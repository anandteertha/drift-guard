<div class="notifications-panel">
  <div class="panel-header">
    <div class="header-content">
      <mat-icon class="header-icon">notifications</mat-icon>
      <h2 class="panel-title">Notifications</h2>
      <mat-chip class="count-badge" *ngIf="!loading">{{ alerts.length }}</mat-chip>
    </div>
    <button mat-icon-button (click)="close()" class="close-button">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div *ngIf="loading" class="loading-container">
    <mat-spinner diameter="40"></mat-spinner>
    <p>Loading notifications...</p>
  </div>

  <div *ngIf="!loading && alerts.length === 0" class="empty-state">
    <mat-icon class="empty-icon">notifications_off</mat-icon>
    <h3>No notifications</h3>
    <p>You're all caught up! No open alerts.</p>
  </div>

  <div *ngIf="!loading && alerts.length > 0" class="alerts-list">
    <div class="alert-item" *ngFor="let alert of alerts" [routerLink]="['/projects', alert.project_id, 'alerts']" (click)="close()">
      <div class="alert-header">
        <mat-chip [color]="getSeverityColor(alert.severity)" class="severity-chip">
          <mat-icon class="chip-icon">{{ getSeverityIcon(alert.severity) }}</mat-icon>
          {{ alert.severity }}
        </mat-chip>
        <span class="alert-time">{{ alert.created_at | date:'short' }}</span>
      </div>
      <div class="alert-content">
        <div class="alert-type">{{ alert.alert_type }}</div>
        <div class="alert-message">{{ alert.message }}</div>
        <div class="alert-meta">
          <span class="project-name">{{ getProjectName(alert.project_id) }}</span>
          <span class="feature-name" *ngIf="alert.feature_name">{{ alert.feature_name }}</span>
        </div>
      </div>
    </div>
  </div>
</div>

